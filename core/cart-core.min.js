/*
 * =================================================================
 * SISTEMA DE CARRINHO E FAVORITOS v4.0 - AUTO-CONTIDO
 * Contém simpleCart.js (v3.0.5) e a lógica da aplicação.
 * Nenhuma outra dependência de script de carrinho é necessária.
 * Criado por Manus para juliolp.pt
 * =================================================================
 */

// --- Início da biblioteca simpleCart.js v3.0.5 ---
(function(p, j) {
    var "function" === typeof define && define.amd ? define(["jquery"], function(q) {
        return j(q, p)
    }) : "object" === typeof exports ? module.exports = j(require("jquery"), p) : p.simpleCart = j(p.jQuery, p)
})(this, function(p, j) {
    var q = {
            M: function(a, b) {
                var c = this,
                    d = {
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#39;"
                    },
                    e = /[&<>"']/g;
                c.el = a;
                c.id = b;
                c.parent = c.el.parentElement;
                c.add = function(f) {
                    var g = new q.O(f);
                    c.el.appendChild(g.el);
                    return g
                };
                c.remove = function() {
                    c.el.parentNode.removeChild(c.el)
                };
                c.attr = function(f, g) {
                    return "undefined" === typeof g ? c.el.getAttribute(f) : c.el.setAttribute(f, g)
                };
                c.html = function(f) {
                    if ("undefined" === typeof f) return c.el.innerHTML;
                    c.el.innerHTML = f;
                    return c
                };
                c.text = function(f) {
                    if ("undefined" === typeof f) return c.el.innerText || c.el.textContent;
                    c.el.innerText ? c.el.innerText = f : c.el.textContent = f;
                    return c
                };
                c.css = function(f, g) {
                    if ("undefined" === typeof g) return c.el.style[f];
                    c.el.style[f] = g;
                    return c
                };
                c.on = function(f, g) {
                    var h = f.split(" ");
                    q.v(h, function(k) {
                        q.k(c.el, k, g)
                    });
                    return c
                };
                c.hide = function() {
                    return c.css("display", "none")
                };
                c.show = function() {
                    return c.css("display", "block")
                };
                c.visible = function() {
                    return "none" !== c.css("display")
                };
                c.hasClass = function(f) {
                    return (new RegExp("(^| )" + f + "( |$)")).test(c.attr("class"))
                };
                c.addClass = function(f) {
                    c.hasClass(f) || c.attr("class", c.attr("class") + " " + f);
                    return c
                };
                c.removeClass = function(f) {
                    c.hasClass(f) && c.attr("class", c.attr("class").replace(new RegExp("( |^)" + f + "( |$)"), " "));
                    return c
                };
                c.toggle = function(f) {
                    c.hasClass(f) ? c.removeClass(f) : c.addClass(f);
                    return c
                };
                c.val = function(f) {
                    if ("undefined" === typeof f) return c.el.value;
                    c.el.value = f;
                    return c
                };
                c.find = function(f) {
                    return q.p(f, c.el)
                };
                c.closest = function(f) {
                    var g = c.el,
                        h;
                    "undefined" === typeof g.closest ? (h = function(k, l) {
                        for (var m = (k.document || k.ownerDocument).querySelectorAll(l), n = k; n && 1 === n.nodeType && !q.u(n, m);) n = n.parentNode;
                        return n && 1 === n.nodeType ? n : null
                    }, g = h(g, f)) : g = g.closest(f);
                    return q.p(g)
                };
                c.each = function(f) {
                    q.v(c.el, f)
                };
                c.data = function(f, g) {
                    var h = "data-" + f;
                    return "undefined" === typeof g ? c.attr(h) : c.attr(h, "string" === typeof g ? g : JSON.stringify(g))
                };
                c.is = function(f) {
                    return q.u(c.el, f)
                };
                c.escape = function(f) {
                    return ("" + f).replace(e, function(g) {
                        return d[g]
                    })
                }
            },
            O: function(a) {
                this.el = j.document.createElement(a);
                q.M.call(this, this.el)
            },
            $: function(a) {
                "string" === typeof a ? j.document.addEventListener("DOMContentLoaded", function() {
                    q.p(a).each(function(b) {
                        q.trigger(b)
                    })
                }) : "function" === typeof a && q.trigger(a)
            },
            k: function(a, b, c) {
                a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent && a.attachEvent("on" + b, function(d) {
                    d.preventDefault = function() {
                        d.returnValue = !1
                    };
                    d.stopPropagation = function() {
                        d.cancelBubble = !0
                    };
                    c.call(a, d)
                })
            },
            trigger: function(a, b) {
                var c = j.document;
                "function" === typeof a && (b = a, a = j);
                "string" === typeof b && (b = {
                    type: b
                });
                b.target || (b.target = a);
                if (!c.createEvent) return c = c.createEventObject(), c.type = b.type, a.fireEvent("on" + b.type, c), !1;
                c = c.createEvent("HTMLEvents");
                c.initEvent(b.type, !0, !0);
                c.data = b.data || {};
                c.target = a;
                a.dispatchEvent(c)
            },
            v: function(a, b) {
                var c, d, e, f;
                if ("function" === typeof a && (f = a, a = [f]), a && (c = a.length))
                    for (d = 0; d < c; d += 1) {
                        e = a[d];
                        try {
                            f = b.call(e, e, d)
                        } catch (g) {
                            throw g;
                        }
                        if (!1 === f) break
                    }
            },
            s: function(a, b) {
                var c = [];
                q.v(a, function(d) {
                    c.push(b.call(d, d))
                });
                return c
            },
            t: function(a, b) {
                var c = [];
                q.v(a, function(d) {
                    b.call(d, d) && c.push(d)
                });
                return c
            },
            u: function(a, b) {
                var c = !1;
                b instanceof q.M ? c = a === b.el : b.length && b[0] === j ? c = "undefined" !== typeof a.location : b.length ? q.v(b, function(d) {
                    a === d && (c = !0)
                }) : c = a === b;
                return c
            },
            extend: function(a, b) {
                var c;
                "undefined" === typeof b && (b = a, a = this);
                for (c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c]);
                return a
            },
            p: function(a, b) {
                var c, d, e = [];
                b = b || j.document;
                a instanceof q.M ? e.push(a) : a && a.nodeName ? e.push(new q.M(a)) : "string" === typeof a ? (c = b.querySelectorAll(a), q.v(c, function(f) {
                    e.push(new q.M(f))
                })) : a && a.length && (d = a.length) && q.v(a, function(f) {
                    f.nodeName && e.push(new q.M(f))
                });
                return new q.N(e)
            },
            N: function(a) {
                var b = this,
                    c, d = a.length;
                b.length = d;
                for (c = 0; c < d; c += 1) b[c] = a[c];
                b.each = function(e) {
                    q.v(b, function(f, g) {
                        e.call(f, f, g)
                    });
                    return b
                }
            },
            L: function(a) {
                var b = {},
                    c;
                a = a || {};
                for (c in q.G) Object.prototype.hasOwnProperty.call(q.G, c) && (b[c] = a[c] || q.G[c]);
                return b
            },
            K: function(a) {
                var b = {},
                    c;
                a = a || {};
                for (c in q.I) Object.prototype.hasOwnProperty.call(q.I, c) && (b[c] = a[c] || q.I[c]);
                return b
            },
            J: function(a) {
                var b = {},
                    c;
                a = a || {};
                for (c in q.H) Object.prototype.hasOwnProperty.call(q.H, c) && (b[c] = a[c] || q.H[c]);
                return b
            },
            F: function(a) {
                var b = new q.M("div"),
                    c, d = a.split("=");
                b.attr("class", "simpleCart_shelfItem");
                q.v(d, function(e) {
                    c = e.split(":");
                    b.data(c[0].replace(/_/, "-"), c.slice(1).join(":"))
                });
                return b
            },
            G: {
                checkout: {
                    type: "PayPal",
                    email: "you@yours.com"
                },
                currency: "USD",
                language: "english-us",
                cartStyle: "div",
                cartColumns: [{
                    attr: "name",
                    label: "Name"
                }, {
                    attr: "price",
                    label: "Price",
                    view: "currency"
                }, {
                    view: "decrement",
                    label: !1
                }, {
                    attr: "quantity",
                    label: "Qty"
                }, {
                    view: "increment",
                    label: !1
                }, {
                    attr: "total",
                    label: "SubTotal",
                    view: "currency"
                }, {
                    view: "remove",
                    text: "Remove",
                    label: !1
                }],
                excludeFromCheckout: ["thumb"]
            },
            I: {
                name: "item_name",
                price: "amount",
                quantity: "quantity",
                shipping: "shipping",
                shipping2: "shipping2",
                handling: "handling",
                tax: "tax",
                taxRate: "tax_rate"
            },
            H: {
                business: "business",
                currency_code: "currency_code",
                "return": "return",
                cancel_return: "cancel_return",
                notify_url: "notify_url",
                production: "https://www.paypal.com/cgi-bin/webscr",
                sandbox: "https://www.sandbox.paypal.com/cgi-bin/webscr",
                cmd: "_cart",
                display: "1",
                upload: "1"
            },
            E: {
                "english-us": {
                    "for": "for"
                }
            },
            D: function(a ) {
                return q.E[a]
            },
            B: function(a, b) {
                var c = q.D(q.o.language);
                return c && c[a] ? c[a] : b || a
            },
            C: function(a, b) {
                function c(h, k) {
                    return function(l) {
                        return k.call(h, l)
                    }
                }
                var d = this;
                d.items = {};
                d.o = b;
                d.selector = a;
                d.add = function(h) {
                    var k = new q.A(h);
                    if (d.has(k)) {
                        var l = d.find(k.id()).increment(k.quantity());
                        k = l
                    } else d.items[k.id()] = k;
                    return k
                };
                d.find = function(h) {
                    var k = [];
                    if ("string" === typeof h) k.push(d.items[h]);
                    else if ("object" === typeof h) {
                        var l;
                        q.v(d.items, function(m) {
                            l = !0;
                            q.v(h, function(n, r) {
                                m.get(r) === n || "id" === r || "quantity" === r || (l = !1)
                            });
                            l && k.push(m)
                        })
                    }
                    return k.length ? 1 === k.length ? k[0] : k : null
                };
                d.has = function(h) {
                    return "object" === typeof h ? null !== d.find(h) : "string" === typeof h ? Object.prototype.hasOwnProperty.call(d.items, h) : !1
                };
                d.remove = function(h) {
                    h = d.find(h);
                    null !== h && (q.v(h, function(k) {
                        delete d.items[k.id()]
                    }), q.trigger(d, "afterRemove"))
                };
                d.each = function(h, k) {
                    var l, m, n = h;
                    m = 0;
                    "function" === typeof h && (n = h, h = null);
                    if (h) q.v(d.items, function(r, t) {
                        h.call(r, r, t, m) && (m += 1)
                    });
                    else {
                        var r = [];
                        q.v(d.items, function(t) {
                            r.push(t)
                        });
                        r.sort(function(t, u) {
                            return t.get("name") > u.get("name") ? 1 : -1
                        });
                        q.v(r, function(t, u) {
                            l = n.call(t, t, u, m);
                            !1 !== l && (m += 1)
                        })
                    }
                    k && k.call(d, m)
                };
                d.quantity = function() {
                    var h = 0;
                    d.each(function(k) {
                        h += k.quantity()
                    });
                    return h
                };
                d.total = function() {
                    var h = 0;
                    d.each(function(k) {
                        h += k.total()
                    });
                    return h
                };
                d.empty = function() {
                    d.items = {};
                    q.trigger(d, "afterEmpty")
                };
                d.on = function(h, k) {
                    q.k(d, h, k)
                };
                d.bind = d.on;
                d.trigger = function(h, k) {
                    q.trigger(d, h, k)
                };
                d.ready = function(h) {
                    "function" === typeof h ? d.isReady ? h.call(d) : d.on("ready", h) : "undefined" === typeof h && !d.isReady && (d.isReady = !0, d.trigger("ready"))
                };
                d.setup = function(h) {
                    d.o = q.extend(d.o, h)
                };
                (function() {
                    d.on("ready", function() {
                        d.setup(q.L(q.p("body").data("cart-options")));
                        d.trigger("beforeSetup");
                        d.o = q.L(d.o);
                        d.trigger("afterSetup");
                        d.load();
                        d.update();
                        d.ready()
                    });
                    q.k(j, "unload", c(d, d.save));
                    q.k(j, "load", function() {
                        d.load();
                        d.update()
                    });
                    q.p(d.selector).each(function(h) {
                        h.on("click", function(k) {
                            k.preventDefault();
                            var l = new q.M(this),
                                m = {};
                            l.find(".simpleCart_input").each(function(n) {
                                m[n.attr("name")] = n.val()
                            });
                            d.add(q.extend(l.data(), m))
                        })
                    });
                    d.on("afterAdd", c(d, d.update));
                    d.on("afterRemove", c(d, d.update));
                    d.on("afterEmpty", c(d, d.update));
                    d.on("change", c(d, d.update));
                    q.p(".simpleCart_checkout").on("click", function(h) {
                        h.preventDefault();
                        d.checkout()
                    });
                    q.p(".simpleCart_empty").on("click", function(h) {
                        h.preventDefault();
                        d.empty()
                    });
                    q.p(".simpleCart_increment").on("click", function(h) {
                        h.preventDefault();
                        d.find(q.p(this).closest(".simpleCart_item").data("item-id")).increment();
                        d.update()
                    });
                    q.p(".simpleCart_decrement").on("click", function(h) {
                        h.preventDefault();
                        d.find(q.p(this).closest(".simpleCart_item").data("item-id")).decrement();
                        d.update()
                    });
                    q.p(".simpleCart_remove").on("click", function(h) {
                        h.preventDefault();
                        d.find(q.p(this).closest(".simpleCart_item").data("item-id")).remove()
                    });
                    q.p(".simpleCart_shelfItem .item_add").on("click", function(h) {
                        h.preventDefault();
                        var k = {},
                            l = q.p(this).closest(".simpleCart_shelfItem");
                        l.find(".item_Quantity, .item_price, .item_name").each(function(m) {
                            var n = m.attr("class").split(" ")[0],
                                r = m.val() || m.text();
                            k[n.replace("item_", "")] = r
                        });
                        d.add(k)
                    });
                    q.p(".simpleCart_input").on("change", function() {
                        var h = q.p(this),
                            k = h.closest(".simpleCart_item"),
                            l = d.find(k.data("item-id"));
                        l && (l.set(h.attr("name").replace("item_", ""), h.val()), d.update())
                    })
                })();
                d.update = function() {
                    d.trigger("beforeUpdate");
                    var h = d.quantity(),
                        k = d.total();
                    q.p(".simpleCart_total").html(d.toCurrency(k));
                    q.p(".simpleCart_quantity").html("" + h);
                    if (0 === h) q.p(".simpleCart_empty").hide(), q.p(".simpleCart_checkout").hide(), q.p(".simpleCart_items").hide();
                    else {
                        q.p(".simpleCart_empty").show();
                        q.p(".simpleCart_checkout").show();
                        q.p(".simpleCart_items").show();
                        var l = q.p(".simpleCart_items");
                        if (l.length) {
                            l.html("");
                            var m = new q.M(d.o.cartStyle);
                            m.addClass("simpleCart_items");
                            l.replaceWith(m);
                            d.each(function(n) {
                                var r = new q.M(d.o.cartStyle);
                                r.addClass("simpleCart_item");
                                r.data("item-id", n.id());
                                var t = [];
                                q.v(d.o.cartColumns, function(u) {
                                    var x = {
                                            item: n,
                                            column: u,
                                            iterator: new q.P(t)
                                        },
                                        w = new q.M("div");
                                    w.addClass("item_" + u.attr);
                                    w.addClass("item-" + u.attr);
                                    x.column_html = w;
                                    d.trigger("beforeRender", x);
                                    var y = u.view,
                                        z = n.get(u.attr);
                                    "function" === typeof y ? w.html(y.call(d, n, u)) : "string" === typeof y ? "remove" === y ? (y = new q.M("a"), y.html(q.B(u.text, u.text || "Remove")), y.attr("href", "#"), y.addClass("simpleCart_remove"), y.on("click", function() {
                                        n.remove();
                                        return !1
                                    }), w.html(""), w.append(y)) : "decrement" === y ? (y = new q.M("a"), y.html("-"), y.attr("href", "#"), y.addClass("simpleCart_decrement"), y.on("click", function() {
                                        n.decrement();
                                        d.update();
                                        return !1
                                    }), w.html(""), w.append(y)) : "increment" === y ? (y = new q.M("a"), y.html("+"), y.attr("href", "#"), y.addClass("simpleCart_increment"), y.on("click", function() {
                                        n.increment();
                                        d.update();
                                        return !1
                                    }), w.html(""), w.append(y)) : "image" === y || "thumb" === y ? (y = new q.M("img"), y.attr("src", z), w.html(""), w.append(y)) : "input" === y ? (y = new q.M("input"), y.attr("type", "text"), y.attr("value", z), y.attr("name", u.attr), w.html(""), w.append(y)) : "currency" === y ? w.html(d.toCurrency(z)) : w.html(z) : w.html(z);
                                    x.column_html = w;
                                    d.trigger("afterRender", x);
                                    t.push(w)
                                });
                                q.v(t, function(u) {
                                    r.append(u)
                                });
                                m.append(r)
                            })
                        }
                    }
                    d.save();
                    d.trigger("afterUpdate")
                };
                d.save = function() {
                    d.trigger("beforeSave");
                    var h = {};
                    d.each(function(k) {
                        var l = {};
                        q.v(k.fields(), function(m) {
                            l[m] = k.get(m)
                        });
                        h[k.id()] = l
                    });
                    try {
                        j.localStorage.setItem("simpleCart_items", JSON.stringify(h))
                    } catch (k) {}
                    d.trigger("afterSave")
                };
                d.load = function() {
                    d.trigger("beforeLoad");
                    d.items = {};
                    var h = {};
                    try {
                        h = JSON.parse(j.localStorage.getItem("simpleCart_items"))
                    } catch (k) {
                        h = {}
                    }
                    q.v(h, function(l, m) {
                        d.add(q.extend(l, {
                            id: m
                        }))
                    });
                    d.trigger("afterLoad")
                };
                d.toCurrency = function(h) {
                    var k = parseFloat(h);
                    h = isNaN(k) ? "0.00" : k.toFixed(2);
                    var l = h.split("."),
                        m = l[0],
                        n = l[1];
                    "USD" === d.o.currency ? m = m.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,") : "GBP" === d.o.currency ? m = m.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,") : "EUR" === d.o.currency && (m = m.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1."));
                    var r = {
                        USD: {
                            symbol: "$",
                            code: "USD",
                            name: "US Dollar"
                        },
                        AUD: {
                            symbol: "$",
                            code: "AUD",
                            name: "Australian Dollar"
                        },
                        BRL: {
                            symbol: "R$",
                            code: "BRL",
                            name: "Brazilian Real"
                        },
                        CAD: {
                            symbol: "$",
                            code: "CAD",
                            name: "Canadian Dollar"
                        },
                        CZK: {
                            symbol: "K\u010d",
                            code: "CZK",
                            name: "Czech Koruna",
                            delimiter: " ",
                            decimal: ","
                        },
                        DKK: {
                            symbol: "kr",
                            code: "DKK",
                            name: "Danish Krone",
                            delimiter: ".",
                            decimal: ","
                        },
                        EUR: {
                            symbol: "\u20ac",
                            code: "EUR",
                            name: "Euro"
                        },
                        HKD: {
                            symbol: "$",
                            code: "HKD",
                            name: "Hong Kong Dollar"
                        },
                        HUF: {
                            symbol: "Ft",
                            code: "HUF",
                            name: "Hungarian Forint",
                            delimiter: " ",
                            decimal: ","
                        },
                        ILS: {
                            symbol: "\u20aa",
                            code: "ILS",
                            name: "Israeli New Sheqel"
                        },
                        JPY: {
                            symbol: "\u00a5",
                            code: "JPY",
                            name: "Japanese Yen",
                            accuracy: 0
                        },
                        MXN: {
                            symbol: "$",
                            code: "MXN",
                            name: "Mexican Peso"
                        },
                        NOK: {
                            symbol: "kr",
                            code: "NOK",
                            name: "Norwegian Krone",
                            delimiter: ".",
                            decimal: ","
                        },
                        NZD: {
                            symbol: "$",
                            code: "NZD",
                            name: "New Zealand Dollar"
                        },
                        PHP: {
                            symbol: "P",
                            code: "PHP",
                            name: "Philippine Peso"
                        },
                        PLN: {
                            symbol: "z\u0142",
                            code: "PLN",
                            name: "Polish Zloty",
                            delimiter: " ",
                            decimal: ","
                        },
                        GBP: {
                            symbol: "\u00a3",
                            code: "GBP",
                            name: "Pound Sterling"
                        },
                        SGD: {
                            symbol: "$",
                            code: "SGD",
                            name: "Singapore Dollar"
                        },
                        SEK: {
                            symbol: "kr",
                            code: "SEK",
                            name: "Swedish Krona",
                            delimiter: " ",
                            decimal: ","
                        },
                        CHF: {
                            symbol: "CHF",
                            code: "CHF",
                            name: "Swiss Franc"
                        },
                        TWD: {
                            symbol: "NT$",
                            code: "TWD",
                            name: "New Taiwan Dollar"
                        },
                        THB: {
                            symbol: "\u0e3f",
                            code: "THB",
                            name: "Thai Baht"
                        },
                        ZAR: {
                            symbol: "R",
                            code: "ZAR",
                            name: "South African Rand"
                        }
                    };
                    h = r[d.o.currency] || r.USD;
                    k = isNaN(k) ? 0 : k;
                    k = k.toFixed("undefined" !== typeof h.accuracy ? h.accuracy : 2);
                    l = k.split(".");
                    m = l[0];
                    n = l[1];
                    m = m.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + (h.delimiter || ","));
                    return h.symbol + m + (n ? h.decimal || "." : "") + n
                };
                d.checkout = function() {
                    if ("PayPal" === d.o.checkout.type) {
                        var h = d.o.checkout,
                            k = q.J(h),
                            l = new q.M("form");
                        l.attr("style", "display:none;");
                        l.attr("action", k.sandbox ? k.sandbox : k.production);
                        l.attr("method", "POST");
                        q.v(k, function(n, r) {
                            l.append((new q.M("input")).attr("type", "hidden").attr("name", r).val(n))
                        });
                        d.each(function(n, r) {
                            var t = r + 1,
                                u = q.K(n.options());
                            q.v(u, function(x, w) {
                                -1 === q.s(d.o.excludeFromCheckout, function(A) {
                                    return A.toLowerCase()
                                }).indexOf(w.toLowerCase()) && l.append((new q.M("input")).attr("type", "hidden").attr("name", x + "_" + t).val(n.get(w)))
                            })
                        }, function() {
                            return !0
                        });
                        q.p("body").append(l);
                        l.el.submit();
                        l.remove()
                    } else "GoogleCheckout" === d.o.checkout.type ? (h = d.o.checkout, k = new q.M("form"), l = "https://checkout.google.com/api/checkout/v2/checkoutForm/Merchant/" + h.merchantID, k.attr("style", "display:none;" ), k.attr("action", l), k.attr("method", "POST"), k.attr("accept-charset", "utf-8"), d.each(function(n, r)
