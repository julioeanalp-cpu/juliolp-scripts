document.addEventListener('DOMContentLoaded', function() { const menuToggle = document.getElementById('menuToggle'); const menuOverlay = document.getElementById('menuOverlay'); const menuClose = document.getElementById('menuClose'); function openMenu() { menuOverlay.classList.add('active'); menuToggle.classList.add('active'); document.body.style.overflow = 'hidden'; } function closeMenu() { menuOverlay.classList.remove('active'); menuToggle.classList.remove('active'); document.body.style.overflow = ''; } if (menuToggle) { menuToggle.addEventListener('click', function(e) { e.stopPropagation(); if (menuOverlay.classList.contains('active')) { closeMenu(); } else { openMenu(); } }); } if (menuClose) { menuClose.addEventListener('click', closeMenu); } if (menuOverlay) { menuOverlay.addEventListener('click', function(e) { if (e.target === menuOverlay) { closeMenu(); } }); } document.addEventListener('keydown', function(e) { if (e.key === 'Escape' && menuOverlay.classList.contains('active')) { closeMenu(); } }); const menuLinks = menuOverlay.querySelectorAll('.nav-menu a'); menuLinks.forEach(link => { link.addEventListener('click', closeMenu); }); if (window.innerWidth <= 768) { const filtersSection = document.querySelector('.filters-section'); if (filtersSection) { const filtersContainer = document.createElement('div'); filtersContainer.className = 'filters-container'; while (filtersSection.firstChild) { filtersContainer.appendChild(filtersSection.firstChild); } const toggleButton = document.createElement('button'); toggleButton.className = 'mobile-filter-toggle'; toggleButton.innerHTML = '<i class="fas fa-filter"></i> <span>Filtrar Discos</span>'; toggleButton.setAttribute('aria-label', 'Mostrar filtros'); filtersSection.appendChild(toggleButton); filtersSection.appendChild(filtersContainer); toggleButton.addEventListener('click', function() { filtersContainer.classList.toggle('active'); const isActive = filtersContainer.classList.contains('active'); toggleButton.innerHTML = isActive ? '<i class="fas fa-times"></i> <span>Fechar Filtros</span>' : '<i class="fas fa-filter"></i> <span>Filtrar Discos</span>'; toggleButton.setAttribute('aria-label', isActive ? 'Fechar filtros' : 'Mostrar filtros'); }); } } });
