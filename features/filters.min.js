// JulioLP Filters System v1.0 - Responsive & Fast
!function(){"use strict";function e(){var e=document.querySelectorAll('input[name="category"]:checked'),t=document.querySelectorAll('input[name="price"]:checked'),r=document.querySelectorAll('input[name="genre"]:checked'),n=Array.from(e).map(function(e){return e.value}),c=Array.from(t).map(function(e){return e.value}),i=Array.from(r).map(function(e){return e.value});if(0===n.length&&0===c.length&&0===i.length)return void document.querySelectorAll(".product-card").forEach(function(e){e.style.display="block"});document.querySelectorAll(".product-card").forEach(function(e){var t=!0;if(n.length>0){var r=e.dataset.category||"";t=t&&n.includes(r)}if(c.length>0&&t){var l=e.querySelector(".product-price");if(l){var a=parseFloat(l.textContent.replace("â‚¬","").replace(",",".").trim())||0,o=!1;c.forEach(function(e){if("0-15"===e&&a<=15&&(o=!0),"15-25"===e&&a>15&&a<=25&&(o=!0),"25-40"===e&&a>25&&a<=40&&(o=!0),"40+"===e&&a>40&&(o=!0),"promotion"===e){var t=l.classList.contains("discounted");t&&(o=!0)}}),t=t&&o}else t=!1}if(i.length>0&&t){var u=e.dataset.genre||"";t=t&&i.includes(u)}e.style.display=t?"block":"none"}),a()}function t(){var e=document.querySelectorAll(".product-card:not([style*='display: none'])").length,t=document.querySelector(".no-results-message");e>0?t&&(t.style.display="none"):t?t.style.display="block":(t=document.createElement("div"),t.className="no-results-message",t.innerHTML='<i class="fas fa-search"></i><p>Nenhum produto encontrado com esses filtros</p><button class="btn-clear-filters">Limpar Filtros</button>',document.querySelector(".products-grid").parentNode.insertBefore(t,document.querySelector(".products-grid")),t.querySelector(".btn-clear-filters").addEventListener("click",r))}function r(){document.querySelectorAll('input[type="checkbox"]').forEach(function(e){e.checked=!1}),e()}function a(){var e=document.querySelectorAll(".product-card:not([style*='display: none'])").length,r=document.querySelector(".results-count");r&&(r.textContent=1===e?e+" produto encontrado":e+" produtos encontrados"),t()}document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll('input[type="checkbox"]');t.forEach(function(t){t.addEventListener("change",e)}),a();var n=document.querySelector(".btn-clear-filters");n&&n.addEventListener("click",r);var c=document.querySelector(".mobile-filter-toggle");if(c){var i=document.querySelector(".filters-container");c.addEventListener("click",function(){i.classList.toggle("active");var e=i.classList.contains("active");c.innerHTML=e?'<i class="fas fa-times"></i> <span>Fechar Filtros</span>':'<i class="fas fa-filter"></i> <span>Filtrar Discos</span>',c.setAttribute("aria-label",e?"Fechar filtros":"Mostrar filtros")})}})}();
